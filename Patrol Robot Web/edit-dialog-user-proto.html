<!DOCTYPE html>
  <html lang="en">
  <head>
  <title>Dialog User</title>
  <link rel="stylesheet" href="css/menu-style.css">
  <link rel="stylesheet" href="css/dialog-u-content-style.css">
  <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <script type="text/javascript">
    $(document).ready(function(){
        var maxField = 10; //Input fields increment limitation
        var addButton = $('.add_button'); //Add button selector
        var wrapper = $('.field_wrapper'); //Input field wrapper
        var fieldHTML = '<div><input type="text" id="trainingphrases" name="trianing[]" /><a href="javascript:void(0);" class="remove_button"><img src="img/remove-icon.png" style="height: 30px; width: 30px;" ></a></div>'; //New input field html 
        var x = 1; //Initial field counter is 1
        
        //Once add button is clicked
        $(addButton).click(function(){
            //Check maximum number of input fields
            if(x < maxField){ 
                x++; //Increment field counter
                $(wrapper).append(fieldHTML); //Add field html
            }
        });
        
        //Once remove button is clicked
        $(wrapper).on('click', '.remove_button', function(e){
            e.preventDefault();
            $(this).parent('div').remove(); //Remove field html
            x--; //Decrement field counter
        });
    });
    </script>

  </head>
<body>
  <nav>
    <div class="navbar">
      
      <img src="img/logo exat.png" style="height: 60px; width: 60px;" alt="Logo" class="page-logo">
      <div class="nav-links">
        <ul class="links">
          <li><a href="main-user-proto.html">HOME</a></li>
          <li>
            <a href="#">Dialogflow</a>
            <i class='bx bxs-chevron-down js-arrow arrow '></i>
            <ul class="js-sub-menu sub-menu">
              <li><a href="edit-dialog-user-proto.html">Edit Dialogflow</a></li>
              <li><a href="dialog-list-user.html">Dialogflow List</a></li>
              <!--<li><a href="#">Check Dialogflow</a></li>-->
            </ul>
          </li>
          <!--<li><a href="#">Mamagement Robot</a></li>-->
          <!--<li><a href="#">Control Robot</a></li>-->
        </ul>
      </div>
      <!-- <div class="logout"><a href="#" class="outbtn">LogOut</a></div> -->
      <div class="nav-links">
        <ul class="links">
        <li><a href="#" class="profile-img"><img src="img/avatar.png" alt="avatar" width="50"></a>
          <ul class="js-sub-menu sub-menu">
            <li><a href="#">Your Profile</a></li>
              <li><a href="#" type="submit" id="logout" name="logout-btn">Log-out</a></li>
          </ul>
        </li>
        </ul>
      </div>
    </div>
  </nav>

<div class="content">
    <h1>Intent Manager</h1>
  <div class="main-content">
    <div class="intent-content">
      <form id="intent-form">
        <label for="intent">Intent Name:</label><br>
        <input type="text" id="intent" name="intent"><br>
        <!--<label for="trainingphrases">Training Phrases:</label><br>
        <input type="text" id="trainingphrases" name="trainingphrases"><br>-->
        <div class="field_wrapper">
          <div>
              <label for="trainingphrases">Training Phrases:</label>
              <input type="text" id="trainingphrases" name="trianing[]" />
              <a href="javascript:void(0);" class="add_button" title="Add field"><img src="img/add-icon.png" style="height: 30px; width: 30px;"></a>
          </div>
        </div>
        <label for="responses">Responses:</label><br>
        <input type="text" id="responses" name="responses"><br>



        <a href="#"><button type="submit" id="save-edit-dialog" name="save-edit-btn" class="save-edit-btn">Save</button></a>
      </form>
    </div>

    <div class="try-content">
      <form id="try-now-form">
        <input type="text" id="try-now" name="try-now" placeholder="Try it now"><br>
        <div id="show-respond">[Respond goes here]</div><br>
      </form>
    </div>
  </div>
</div> 


<script src="js/collect-edit-dialog.js" type="module"></script>


<script src="https://www.gstatic.com/dialogflow-console/fast/messenger/bootstrap.js?v=1"></script>
<df-messenger
  intent="WELCOME"
  chat-title="Kasidet1"
  agent-id="4f07f010-2df9-4b54-8d5d-071b9d7fb0ee"
  language-code="th"
></df-messenger>

</body>

<script type="module">

  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.8.1/firebase-app.js";
  import {getAuth,onAuthStateChanged,signOut,signInWithEmailAndPassword} from "https://www.gstatic.com/firebasejs/9.8.1/firebase-auth.js";
  import {getDatabase, set, ref, update} from "https://www.gstatic.com/firebasejs/9.8.1/firebase-database.js";
  const firebaseConfig = {
      apiKey: "AIzaSyDcYn7wr-Z9kR5YyrUZvuU3Irv3IIusjO0",
      authDomain: "project-exat.firebaseapp.com",
      projectId: "project-exat",
      storageBucket: "project-exat.appspot.com",
      messagingSenderId: "595990368633",
      appId: "1:595990368633:web:fa9cc62471d30e9d36dfa8",
      measurementId: "G-6HS8XZ7BKV"
    };
  
     // Initialize Firebase
     const app = initializeApp(firebaseConfig);
     const auth = getAuth();
     const database = getDatabase(app);
  
     const email = document.getElementById('email');
     const password = document.getElementById('password');
  
  
  //Log-OUT
    logout.addEventListener('click',(e)=>{
  
      signOut(auth).then(() => {
        // Sign-out successful.
        alert('user loged-out');
        window.location="login-proto.html";
      }).catch((error) => {
        // An error happened.
        const errorCode = error.code;
        const errorMessage = error.message;
   
           alert(errorMessage);
      });
   
   });
   </script>

</html>


